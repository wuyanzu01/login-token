#在七月份的时候我发布了一篇Token的更新策略

#在评论区下有人提出了这么一个疑问：如果多个异步同时请求后台，携带的token都是过期的，那这些请求就全都挂掉了。

#后来在该则评论下也有同学说可以用分布式锁来解决这个问题。

#今天我就该大家写一个完整的demo，使用redis的分布式锁来做一个完整的Token的更新策略。

#国际惯例，直接上代码

#sql文件都包含在项目中，前端使用的是别人的框架，直接是使用js中的ajax请求。按照工作流程，一般都是做前后端分离，为了方便我就没弄那么麻烦，前端也没用框架啥的，因为我前端比较薄弱。

#代码所包含的注释也都有，如果大家有疑问的话，可以在评论中留下你的问题，咱们一起探讨解决！

#也不要忘了关注一下我的微信公众号：请快点喜欢我
